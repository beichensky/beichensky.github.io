(window["webpackJsonpreact-dnd-hooks-demo"]=window["webpackJsonpreact-dnd-hooks-demo"]||[]).push([[0],{17:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADY0lEQVRoQ+2ay29McRTHP7/7m1p6LFlhWQnt3JkSJIiFWGiCsFAL2gXikfAPGH8ACanHgiBBgrSRVLBQxsKC9k6F2HklXolIUJvS/u6ROzNt3Zk7mXbM3N6Rmd2d+zvnfL/n/B7nnN9V1PlP1Tl+ShPQiXbEXQzKoHiP+XEXXv2KGuFgAto+A+wrAJvG6E54+jZKJIoJaPsjsAD4DKof5CfCKhRLgTTGWRddAlb8KEqlQB5hZAcMfZoAq+1TwEFEUriZY1Eh4Y+Ati8Cu1BqHWODaR/IWHIl4j4GnmCcFX4Crc1o63Q4pOQ4JnN73FYBgfgdUBsDCdAyF62/Ad8xzjwfWJ3oAjkfDgFuY5xNJQgkukH2g2zFZHr9EYhvQNQ94BbG2VwENmaHszbGRl/C8y+lCHSCXAA+gOybCFWTHcfF25mWAx0Y51pI3i5rJmgXugrsyEu+RhhBsST/fBPjbC+rNcQBJc6B+E5QB4G2LBbhBZbqZWwwFSK2KZkqk0q0LMxpefZuStpmYNB/nAvNgDcrMdmIQCVeq6ZMIwLV9GYlukpEoLWZmLUH2Jg7B+QBeDnIZBJVibFayBQTyKXUh4E5RQYjlkp7+PwEYq3rEet+Hvg5tNXNb4aJSRciR7P/W26S0aHBWnizEp0FBOzjCEdQ6lhR2qDjHaCuAJcwzu5KjNVCpqAeSPSAbClRDyxEa68efodxFvnAaHsbcL0WAAN0Xv7bgdUkcCMkAr4ZEDyFghZrXUyhWHI94o4v4rMYtxtmDWONduWKfW8RW22MDgyE5O2yZoq30VgihYi3jc4ukg5a3GVN1HZA8EE2K7kE404eZPAQpA+T6astnOlrb+RC0/dZdSUaEaiuP6evrRGB6fusuhL/aVtFZxtbB/KtxFxjC+mJUlt9PI5BrUUvZe7ID3iDYgShOf8c8daiTow3dz/mm7u5k7epNYGb7f97rcYIN3f1v7TXk2uquzxLaBtzX4LzNXgK6Xq44FB9mMH2EgQqvGLKJX/doUQAOfF3UulfxFYihcoW72mMd0fgfJ4AFbNPIhwKrJfDQR5oJWgX8m4m5wOfQPrBGkZkNYpludvLzNoZxFtcogSC0fZZYG/BuzTG6oKBN9En4CGc/NTARcl7zPCd+vnUIEouLoOl7rPRP3T0PEBHX5VIAAAAAElFTkSuQmCC"},19:function(e,t,n){e.exports=n(30)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r,a=n(1),i=n.n(a),c=n(3),o=n(18),d=n(15),g=n.n(d),u=(n(28),n(7)),l=n(4),s=n(16);!function(e){e.Card="card"}(r||(r={}));var p=r;function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f=1,m=function(e){var t=e.bg,n=e.category,r=e.cardList,a=e.changeCardList,o={background:t,display:"inline-block",margin:20,padding:"16px 30px",width:100,cursor:"move"},d={bg:t,category:n,type:p.Card},g=Object(c.c)({item:d,begin:function(e){return r.find((function(e){return-1===e.id}))||a([{bg:"aqua",category:"\u653e\u8fd9\u91cc",id:-1}].concat(Object(u.a)(r))),d},end:function(e,t){var n=r.findIndex((function(e){return-1===e.id}));t.didDrop()?r.splice(n,1,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.getItem(),{id:f++})):r.splice(n,1),a(r)}}),m=Object(l.a)(g,2)[1];return i.a.createElement("div",{ref:m,style:o},n)},A=n(10),v=n.n(A),y=n(17),h=n.n(y),O={position:"absolute",width:20,height:20,top:6,left:6,cursor:"move"},E=function(e){var t=e.bg,n=e.category,r=e.index,o=e.moveCard,d=e.id,g=Object(a.useRef)(null),u=Object(c.c)({collect:function(e){return{isDragging:e.isDragging()}},item:{type:p.Card,index:r}}),s=Object(l.a)(u,3),b=s[0].isDragging,f=s[1],m=s[2],A=Object(c.d)({accept:p.Card,hover:function(e,t){if(g.current){var n=e.index,a=r;if(n!==a){var i=g.current.getBoundingClientRect(),c=(i.bottom-i.top)/2,d=t.getClientOffset().y-i.top;n<a&&d<c||n>a&&d>c||(o(n,a),void 0!==e.index&&(e.index=a))}}}}),v=Object(l.a)(A,2)[1],y=Object(a.useMemo)((function(){return{position:"relative",background:t,margin:"16px 6px",opacity:-1===d?.4:b?.2:1,padding:"20px 0px",verticalAlign:40,width:288}}),[t,d,b]);return m(v(g)),i.a.createElement("div",{ref:g,style:y},-1!==d&&f&&f(i.a.createElement("img",{alt:"",src:h.a,style:O})),n)},C={backgroundColor:"white",border:"1px dashed gray",margin:"100px auto",minHeight:"300px",padding:"0 10px",textAlign:"center",width:300},j=function(e){var t=e.cardList,n=e.changeCardList,r=Object(c.d)({accept:p.Card}),o=Object(l.a)(r,2)[1],d=Object(a.useCallback)((function(e,r){if(void 0===e){var a=t.findIndex((function(e){return-1===e.id}));n(v()(t,{$splice:[[a,1],[r,0,{bg:"aqua",category:"\u653e\u8fd9\u91cc",id:-1}]]}))}else{var i=t[e];n(v()(t,{$splice:[[e,1],[r,0,i]]}))}}),[t]);return i.a.createElement("div",{style:C,ref:o},t.length<=0?i.a.createElement("div",{style:{lineHeight:"60px"}},"\u8bf7\u653e\u5165\u6c34\u679c"):t.map((function(e,t){return i.a.createElement(E,Object.assign({index:t,key:e.id,moveCard:d},e))})))},w=[{id:1,category:"Apple",bg:"red"},{id:2,category:"Banana",bg:"yellow"},{id:3,category:"Orange",bg:"orange"},{id:4,category:"Grape",bg:"purple"},{id:5,category:"Watermelon",bg:"green"},{id:6,category:"Peach",bg:"pink"}],B=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=function(e){r(Object(u.a)(e))};return i.a.createElement("div",null,w.map((function(e){return i.a.createElement(m,Object.assign({key:e.id},e,{cardList:n,changeCardList:c}))})),i.a.createElement(j,{cardList:n,changeCardList:c}))},k=(n(29),function(){return i.a.createElement("div",{className:"App"},i.a.createElement(B,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.a.render(i.a.createElement(c.b,{backend:o.a},i.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.153ad20f.chunk.js.map